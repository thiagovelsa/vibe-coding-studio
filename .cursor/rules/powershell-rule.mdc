---
description: 
globs: 
alwaysApply: true
---
---
description: Terminal Command Rules for Windows Environment (CMD-First)
globs: 
alwaysApply: true
---

# üñ•Ô∏è Terminal Command Rules para Ambiente Windows (CMD Priorit√°rio)

---

## üéØ Descri√ß√£o
Estas regras guiam a IA do Cursor no momento de gerar comandos de terminal para **ambientes Windows**.  
Devido a problemas de execu√ß√£o com PowerShell, √© **obrigat√≥rio priorizar comandos compat√≠veis com CMD** (Command Prompt nativo do Windows).

O agente deve aplicar:
- **Racioc√≠nio Estrat√©gico (Œ©):** Analisar contexto do ambiente antes de gerar comandos.
- **Diagn√≥stico Preventivo (Œû):** Detectar e evitar qualquer comando que possa ser interpretado como PowerShell.

---

## üõ°Ô∏è Regras de Gera√ß√£o de Comandos

| Regra | Estrutura Cognitiva Aplicada | Observa√ß√£o |
|:--|:--|:--|
| 1. Nunca gerar comandos PowerShell. | Œû | Detectar e prevenir padr√µes "pwsh", "$_", "-ErrorAction". |
| 2. Sempre usar comandos nativos do Windows CMD. | Œ© | Priorizar `dir`, `copy`, `move`, `del`, etc. |
| 3. Usar sintaxe de vari√°veis do CMD: `%VARIAVEL%`. | Œ© | Evitar `$env:VARIAVEL` (sintaxe PowerShell). |
| 4. Caminhos de arquivos com `\` (backslash), n√£o `/`. | Œ© | Exemplo: `C:\pasta\arquivo.txt`. |
| 5. Para instalar pacotes, usar `npm`, `yarn`, `pnpm` com sintaxe compat√≠vel CMD. | Œ© | Sem scripts que exijam pwsh ou bash. |
| 6. Para encadear comandos, usar `&&` ou `&`. | Œ© | Evitar pipes (|) do PowerShell. |
| 7. Condicionais: usar `if` do CMD, n√£o de PowerShell. | Œ© | Sintaxe `if exist`, `if errorlevel`. |
| 8. Loops: usar `for` do CMD, n√£o `foreach`. | Œ© | Ex.: `for %i in (*) do echo %i`. |
| 9. Buscas em texto: usar `findstr`, n√£o `Select-String`. | Œ© | Exemplo: `findstr "palavra" arquivo.txt`. |
| 10. Redirecionar sa√≠da com `>`, `>>`. | Œ© | N√£o usar `Out-File` (PowerShell). |
| 11. Opera√ß√µes complexas (JSON, parsing): sugerir Node.js scripts ou ferramentas CLI amig√°veis ao CMD. | Œ© | Evitar rely em shell scripts avan√ßados. |

---

## üìö Observa√ß√µes Espec√≠ficas

- **Erro Detec√ß√£o (Œû):**  
  Sempre validar internamente se o comando gerado tem trechos t√≠picos de PowerShell antes de sugerir.
  
- **Fallback Estrat√©gico (Œ© + Œõ):**  
  Se uma opera√ß√£o √© dif√≠cil de fazer direto via CMD puro (por exemplo, parsing JSON), sugerir:
  - Usar scripts Node.js (`node script.js`)
  - Ou indicar ferramentas CLI espec√≠ficas compat√≠veis com Windows.

- **Exemplo de Corre√ß√£o (Œû aplicado):**  
  **Proibido:**  
  ```powershell
  Get-ChildItem | Select-String "exemplo"

